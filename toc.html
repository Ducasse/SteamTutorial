<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">  	
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  	<meta name="theme" content="hugo-academic">
    <meta name="theme-color" content="primary">
	<title></title>

    <!-- Highlight js -->
    <link rel="stylesheet" href="_support/html/highlightjs/styles/default.css">
    <link rel="stylesheet" href="_support/html/css/highlight-commands.css">
    <script src="_support/html/highlightjs/highlight.pack.js"></script>
    <script src="_support/html/js/highlight-commands.js"></script>

    <!-- Bootstrap -->
    <link href="_support/html/css/bootstrap.min.css" rel="stylesheet">
    <link href="_support/html/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="_support/html/css/square-braket-associates.css" rel="stylesheet">


  	<link href="_support/html/css/font-awesome.min.css" rel="stylesheet">
  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" media="screen">
  	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.4/css/academicons.min.css">
    <link rel="stylesheet" href="_support/html/css/styles.css">
    <link rel="icon" type="image/png" href="_support/html/img/icon.png">
  	<link rel="apple-touch-icon" type="image/png" href="_support/html/img/icon-192.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7cRoboto:400,400italic,700%7cRoboto+Mono">

    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', '', 'auto');
      ga('require', 'eventTracker');
      ga('require', 'outboundLinkTracker');
      ga('require', 'urlChangeTracker');
      ga('send', 'pageview');
    </script>
    <script async src="//www.google-analytics.com/analytics.js"></script>
	

    <style>
/*        .container { max-width: 55em; } */
    </style>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>


	<div class="article-header">
	<span class="article-header-caption">Personal's Stuff</span>
</div>

	<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
  <div class="container">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
              data-target=".navbar-collapse" aria-expanded="false">
        <span class="sr-only"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/">
        Personal's Stuff
      </a>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse">

      <ul class="nav navbar-nav navbar-right">
		
        <li class="nav-item">
          <a href="/SteamTutorial/installation.html#installation">
            <span>Installation</span>
          </a>
        </li>
		
        <li class="nav-item">
          <a href="/SteamTutorial/initialization.html#initialization">
            <span>Initialization</span>
          </a>
        </li>
		
        <li class="nav-item">
          <a href="/SteamTutorial/sso.html#single sign on">
            <span>Single Sign On</span>
          </a>
        </li>
		
        <li class="nav-item">
          <a href="/SteamTutorial/stores.html#configure store">
            <span>Configure Store</span>
          </a>
        </li>
		
        <li class="nav-item">
          <a href="/SteamTutorial/index.html#about me">
            <span>About me</span>
          </a>
        </li>
		
        <li class="nav-item">
          <a href="/SteamTutorial/coordinates.html#coordinates">
            <span>Coordinates</span>
          </a>
        </li>
		
      
      </ul>
      

    </div><!-- /.navbar-collapse -->
  </div><!-- /.container -->
</nav>


<!-- Projects widget -->
<section>
<div class="container">
<div class="row">
  <div class="col-xs-12 col-md-4 section-heading">
	<h1></h1>

    
  </div>
  <div class="col-xs-12 col-md-8">

	
<p>
<h1>Installation</h1>

<p>
First you need a Pharo 6.1 image, if you don't have it you can create a new one with <a href="https://pharo.org/download">Pharo Launcher</a>.
Open Iceberg and clone Steam's github repository.
</p>
<p>
url : https://github.com/guillep/steam.git
</p>
<p>
repository : src
</p>
<p>
<a id="iceberg"></a>
<figure>
	<img src="/figures/iceberg.png" id="iceberg" alt="Load Steam's Github repository with Iceberg"/>
	<figcaption>Load Steam's Github repository with Iceberg</figcaption>
</figure>
</p>
<p>
Now you have to install the baseline of steam.
It will download all needed packages.
<a id="metacello"></a>
<figure>
	<img src="/figures/metacello.png" width="100%" id="metacello" alt="Steam installation with Metacello"/>
	<figcaption>Steam installation with Metacello</figcaption>
</figure>
</p>

<p>
If Icebarg gives you the choice between load existing or incoming version you can choose the first one if the version is greater (higher).
It will take few minutes (usually aroud 4 or 5 min).
</p>

<p>
Ok that's it ! All you'll need is here, now you can go to the <strong><a href=":https://pierretsap.github.io/SteamTutorial/initialization.html#initialization">Initialization</a></strong> part.

</p>
<h1>Initialization</h1>

<ol><li><strong>Steam application component</strong></li>
</ol>
<p>
First we need to create a subclass of <code>STApplicationRootComponent</code>, you can name it <code>STManagerApp</code> for example.
</p><figure><pre><code>STApplicationRootComponent subclass: #STManagerApp
	instanceVariableNames: ''
	classVariableNames: ''
	package: 'Steam-Example'</code></pre><figcaption></figcaption></figure>

<p>
To make it work we need to override some superclass methods.
</p>
<p>
We begin with the initialization :
</p><figure><pre><code>STManagerApp &gt;&gt; initialize
	super initialize.
	
	&quot;Here you can choose your login object&quot;
	login := STExampleLogin on: self.
	
	&quot;Here you can define your application menu&quot;
	menuEntries := {}</code></pre><figcaption></figcaption></figure>
<p class="note">For now <code>menuEntries</code> is empty but we will create some classes to fill it up soon enough.</p>
<p>
We need a title for our application.
</p>
<figure><pre><code>STManagerApp &gt;&gt; title
	&quot;title will be diplayed on each web application page&quot;

	^ 'Manager'</code></pre><figcaption></figcaption></figure>

<p>
The applicationName is the url extention for your website.
</p>
<figure><pre><code>STManagerApp class &gt;&gt; applicationName
	&quot;applicationName will be diplayed on the web application url&quot;

	^ 'Manager'</code></pre><figcaption></figcaption></figure>

<p>
We also need te override the <code>storeToUse</code> method to select the store we want to use.
</p>
<figure><pre><code>STManagerApp &gt;&gt; storeToUse
	^ STMemoryStore</code></pre><figcaption></figcaption></figure>

<p class="note">For now we're using a memory store to begin with. This store is just a playbox, so every object which is stored will be lost if you start a new session.</p>

<ol><li><strong>Simple Object</strong></li>
</ol>

<p>
Now let's create a simple new STObject subclass. For example let's call it <code>STCategory</code>. With a inctance variable <code>title</code> which will be just a string representing the title.
</p>
<figure><pre><code>STObject subclass: #STCategory
	instanceVariableNames: 'title'
	classVariableNames: ''
	package: 'Steam-Example'</code></pre><figcaption></figcaption></figure>


<p>
Add accessors.
</p>
<figure><pre><code>STCategory &gt;&gt; title
	^ title</code></pre><figcaption></figcaption></figure>
<figure><pre><code>STCategory &gt;&gt; title: aString
	title := aString</code></pre><figcaption></figcaption></figure>

<p>
And we need to add the description for Magritte.
</p>
<figure><pre><code>STManagerApp &gt;&gt; descriptionTitle
	&lt;magritteDescription&gt;
	^ MAStringDescription new
		label: 'title';
		accessor: #title;
		priority: 100;
		yourself</code></pre><figcaption></figcaption></figure>

<p>
Now we can add our new class to the <code>menuEntries</code> in <code>STManager</code>.
</p>
<figure><pre><code>STManagerApp &gt;&gt; initialize
	super initialize.
	
	&quot;Here you can choose your login object&quot;
	login := STExampleLogin on: self.
	
	&quot;Here you can define your application menu&quot;
	menuEntries := {
		STListAction on: STGameCategory title: 'Categories'
	}</code></pre><figcaption></figcaption></figure>


<p>
After all is done, you can open a Playground then type and execute this code :
</p><figure><pre><code>STManagerApp startOn: 8181.</code></pre><figcaption></figcaption></figure>

<a id="note This will create a ==ZnZincServerAdaptor== server on port 8181 and initialize the web application."></a>
<h1>Single Sign On</h1>

<p>
Here we will see how to create an OAuth client ID, so you can access user's data through Google or Github.
</p>
<ol><li><strong>Google</strong></li>
</ol>

<p>
First you need go to <a href="https://console.developers.google.com/apis">Google APIs</a> and log in with your google account.
Then in <strong>Credentials</strong> &gt; <strong>Create credentials</strong> &gt; <strong>OAuth client ID</strong>
<a id="google"></a>
<figure>
	<img src="/figures/creation_google_oauth.png" width="100%" id="google" alt="Google OAuth client ID"/>
	<figcaption>Google OAuth client ID</figcaption>
</figure>
</p>
<p>
Choose <strong>Web application</strong> and a name for your authentication application, you can use the same as for the steam app : &quot;Manager&quot;. 
</p>
<p class="note">The name will be displayed when a user will try to connect to your steam application via Google.</p>
<p>
For the <strong>Authorised redirect URIs</strong> put <code>http://localhost:8181/oauth2callback</code>.
</p>
<p>
<a id="google"></a>
<figure>
	<img src="/figures/finialization_google_oauth.png" width="100%" id="google" alt="Google OAuth finalization"/>
	<figcaption>Google OAuth finalization</figcaption>
</figure>
</p>
<p>
After clicking on <strong>Create</strong> you will need to copy and paste the <strong>client ID</strong> to key and <strong>client secret</strong> to secret in <code>STManager</code> class side.
</p>
<figure><pre><code>STManager class &gt;&gt; oauthHandlers
	^ {(STGoogleAuthHandler
		key: '' &quot;paste client ID here&quot;
		secret: '' &quot;paste client secret here&quot;
		redirectUrl: 'http://localhost:' , self seasideServer port asString , '/oauth2callback')}</code></pre><figcaption></figcaption></figure>

<p>
And we also have to initialize our class so it can be taken into account.
</p>
<figure><pre><code>STManager initialize.</code></pre><figcaption></figcaption></figure>

<p>
You should be able to authentify yourself with google.
</p>

<ol><li><strong>GitHub</strong></li>
</ol>

<p>
It's basically the same for Github, you need go to <a href="https://github.com/settings/developers">Developer settings</a> and log in if it's not already done.
</p>
<p>
Then in <strong>OAuth Apps</strong> &gt; <strong>Register a new application</strong> or <strong>New OAuth App</strong> if you already have some.
</p>
<p>
For the <strong>Application name</strong> you can put &quot;Manager&quot;, for <strong>Homepage URL</strong> put &quot;http://localhost:8181/Manager&quot; and <strong>Authorization callback URL</strong> put &quot;http://localhost:8181/oauth2callback&quot;
</p>
<p>
<a id="github"></a>
<figure>
	<img src="/figures/finialization_github_oauth.png" width="100%" id="github" alt="Github OAuth finalization"/>
	<figcaption>Github OAuth finalization</figcaption>
</figure>
</p>
<p>
After clicking on <strong>Register application</strong> you will need to copy and paste the <strong>client ID</strong> to key and <strong>client secret</strong> to secret in <code>STManager</code> class side.
</p>
<figure><pre><code>STManager class &gt;&gt; oauthHandlers
	^ {(STGoogleAuthHandler
		key: '' &quot;google client ID&quot;
		secret: '' &quot;google client secret&quot;
		redirectUrl: 'http://localhost:' , self seasideServer port asString , '/oauth2callback').
	(STGithubAuthHandler
		key: '' &quot;paste client ID here&quot;
		secret: '' &quot;paste client secret here&quot;
		redirectUrl: 'http://localhost:' , self seasideServer port asString , '/oauth2callback')}</code></pre><figcaption></figcaption></figure>

<p>
Again don't forget to initialize our class so it can be taken into account.
</p>
<figure><pre><code>STManager initialize.</code></pre><figcaption></figcaption></figure>

<p>
Google and GitHub should work now.

</p>
<h1>Configure Store</h1>

<p>
In this section we will learn how to use <strong>MongoDB</strong> (a document-oriented database) and <strong>PostgreSQL</strong> (a object-relational database system).
</p>
<ol><li><strong>Mongo</strong></li>
</ol>

<p>
To begin with you have to install it on your computer first. You can find a documentation <a href="https://docs.mongodb.com/manual/administration/install-community/">here</a>.
</p>
<p>
Then to run it, open a terminal and execute <code>mongod</code> you may need to put sudo before <code>sudo mongod</code>.
</p>

<ol><li><strong>PostgreSQL</strong></li>
</ol>

<p>
For PgSql you can find a documentation <a href="https://www.postgresql.org/download/">here</a>.
</p>
<ol><li><strong>Choose the store</strong></li>
</ol>

<p>
This is very easy, you just have to change the method <code>STManager &gt;&gt; storeToUse</code> to return the store you want to use : <code>STMongoStore</code> or <code>STPostgresSQLStore</code>.
</p>
<ol><li><strong>Configure STPostgresSQLStore</strong></li>
</ol>

<p>
To configure the STPostgresSQLStore you have to change the <code>STPostgresSQLStore class &gt;&gt; login</code> method.
</p><figure><pre><code>login
	^ Login new
		database: PostgreSQLPlatform new;
		&quot;here use the username you picked when installed PgSQL&quot;
		username: 'pierretsapliayeu';
		&quot;the password is optionnal but you can use one&quot;
		password: 'secret';
		&quot;connect string looks like hostname:portNumber_db-name.
		:portNumber is optional&quot;
		connectString: 'localhost:5432_pierretsapliayeu';
		encodingStrategy: #utf8.</code></pre><figcaption></figcaption></figure>

<p>
After the installation and configuration of the store you have to create tables by executing <code>STManager new createTables</code>
</p>
<p class="note">If you want to drop tables you can run <code>STManager new dropTables</code>.</p>

<h1>About me</h1>

<p>
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Risus feugiat in ante metus. Arcu cursus vitae congue mauris rhoncus aenean vel. Ac odio tempor orci dapibus ultrices in iaculis nunc sed. Quis ipsum suspendisse ultrices gravida dictum fusce ut. Sagittis nisl rhoncus mattis rhoncus urna neque. Aenean euismod elementum nisi quis. Nibh sit amet commodo nulla facilisi nullam vehicula. Tortor condimentum lacinia quis vel eros donec ac odio tempor. Amet mattis vulputate enim nulla. Nam at lectus urna duis convallis convallis. Nisi lacus sed viverra tellus in. Morbi tristique senectus et netus et malesuada fames. Sit amet nisl purus in. Fusce id velit ut tortor pretium.
</p>
<p>
Adipiscing elit duis tristique sollicitudin nibh sit amet commodo. Aliquet sagittis id consectetur purus ut faucibus pulvinar elementum integer. Urna molestie at elementum eu facilisis sed. Vitae congue mauris rhoncus aenean vel elit scelerisque mauris. Diam vulputate ut pharetra sit amet aliquam id diam. Suscipit adipiscing bibendum est ultricies integer quis auctor elit. Pellentesque massa placerat duis ultricies lacus sed turpis tincidunt. Enim ut sem viverra aliquet eget sit amet tellus cras. Eget lorem dolor sed viverra ipsum nunc aliquet bibendum enim. Viverra orci sagittis eu volutpat.
</p>
<p>
Proin nibh nisl condimentum id venenatis a. Duis tristique sollicitudin nibh sit amet commodo. Integer quis auctor elit sed vulputate mi sit. Vitae semper quis lectus nulla at volutpat. Eget arcu dictum varius duis at consectetur. Duis tristique sollicitudin nibh sit amet commodo nulla facilisi. Et ligula ullamcorper malesuada proin libero nunc consequat interdum varius. Quam id leo in vitae turpis massa sed. Sit amet risus nullam eget. Tempor nec feugiat nisl pretium fusce id. Ut venenatis tellus in metus vulputate eu scelerisque felis. Commodo nulla facilisi nullam vehicula ipsum a arcu cursus vitae. Quis imperdiet massa tincidunt nunc. Neque volutpat ac tincidunt vitae. Sollicitudin aliquam ultrices sagittis orci a scelerisque purus.
</p>
<p>
Amet aliquam id diam maecenas ultricies mi eget mauris. Cursus euismod quis viverra nibh cras pulvinar mattis. At elementum eu facilisis sed odio. Diam volutpat commodo sed egestas egestas fringilla. Sit amet est placerat in. Faucibus a pellentesque sit amet porttitor eget. Mattis aliquam faucibus purus in massa tempor nec feugiat nisl. Viverra aliquet eget sit amet tellus cras adipiscing. Elementum sagittis vitae et leo duis ut diam. Eu volutpat odio facilisis mauris sit amet. Aliquam purus sit amet luctus venenatis lectus magna fringilla urna. Scelerisque eleifend donec pretium vulputate sapien nec. Tortor vitae purus faucibus ornare.
</p>
<p>
Cursus turpis massa tincidunt dui ut ornare lectus sit amet. Aenean et tortor at risus viverra adipiscing at. Nisl tincidunt eget nullam non nisi. Neque ornare aenean euismod elementum nisi quis eleifend. In nulla posuere sollicitudin aliquam ultrices sagittis. Aliquam id diam maecenas ultricies. Pulvinar elementum integer enim neque volutpat ac tincidunt vitae semper. Scelerisque purus semper eget duis at tellus at urna condimentum. Nisi vitae suscipit tellus mauris a diam maecenas sed enim. Elementum nibh tellus molestie nunc non blandit massa enim. Magna fringilla urna porttitor rhoncus dolor purus non enim praesent. Libero justo laoreet sit amet cursus sit amet dictum sit. Elit at imperdiet dui accumsan sit amet nulla facilisi morbi.

</p>
<h1>Coordinates</h1>

<p>
Contact me. I'm open for collaborations.
All that you need about lost people.
I will help you find them
</p>
<h2>Email</h2>

<p>
johndoe@mail.com
</p>
<h2>Snail mail / Visits</h2>

<p>

Space Laboratory - J. Doe, 1500, avenue des Disparus,<br/>
Parc d'Attraction,<br/>
France<br/>
Tel:33 (0)0 00 00 00 00<br/>
Fax:33 (0)8 88 88 88 88<br/>

</p>

</p>

  </div>
</div>
</div>
</section>
	

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://code.jquery.com/jquery.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="_support/html/js/bootstrap.min.js"></script>

    <!-- Syntax highlighting of code blocks -->
    <script>hljs.initHighlightingOnLoad();</script>

    <!-- Prettify annotated paragraphs-->
    <script src="_support/html/js/annotated-paragraphs.js"></script>

	<footer class="site-footer">
  <div class="container">
    <p class="powered-by">

      Powered by the
      <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
      <a href="https://github.com/pillar-markup/pillar" target="_blank" rel="noopener">Pillar</a>.

      <span class="pull-right" aria-hidden="true">
        <a href="#" id="back_to_top">
          <span class="button_icon">
            <i class="fa fa-chevron-up fa-2x"></i>
          </span>
        </a>
      </span>

    </p>
  </div>
</footer>



  </body>
</html>
